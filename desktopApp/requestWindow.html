<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <title>Add window</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

</head>
<body>
    <div class="container">
        <form>
            <div>
                <label>Enter Id</label>
                <input id="item" autofocus>

            </div>
            <div>
                <p>
                    <label>
                        <input name="group1" type="radio" id="recent" checked />
                        <span>Most Recent Message</span>
                    </label>
                </p>
                <p>
                    <label>
                        <input name="group1" type="radio" id="all" checked />
                        <span>All Messages</span>
                    </label>
                </p>
                <p>
                    <label>
                        <input name="group1" type="radio" id="day" checked />
                        <span>Date</span><input type="date" id="date">
                    </label>
                </p>

            </div>
            <button class="btn waves-effect waves-light" type="submit"> Send Request</button>
        </form>
    </div>

    <script>
        const electron = require('electron');
        const {ipcRenderer} = electron;

        const form = document.querySelector('form');
        form.addEventListener('submit', submitForm);


        function submitForm(e){
            e.preventDefault();

            let radios = document.getElementsByName('group1');

            values={};

            for (let i = 0, length = radios.length; i < length; i++) {
                if (radios[i].checked) {
                    values = {
                        id: document.querySelector('#item').value,
                        range: radios[i].id,
                        date: document.querySelector('#date').value
                        };
                    break;
                }
            }
            //ipc render send item to main.js
            ipcRenderer.send('item:sendRequest', values);
        }


        //todo getStages: requests type 1 , request using global id which gives back all stages ids, routeNames

        //todo getMessages 1. using stage id, which is used to give all messages in that stage
        // todo 2. using global id, uses all stage id roots to get messages for every stage

    </script>
    
</body>
</html>