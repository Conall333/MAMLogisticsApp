<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <title>Shipping Information</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


</head>
<body>

    <nav>
        <div class="nav-wrapper deep-purple lighten-1">
            <a class="brand-logo center">Shipping Info</a>
        </div>
    </nav>
    <div class="container">
        <ul>

        </ul>
    </div>


<script>

    const electron = require('electron');
    const {ipcRenderer} = electron;
    const ul = document.querySelector('ul');


    //add item
    ipcRenderer.on('item:shipments', function(e, item){
        // ul.className = 'collection  cyan lighten-5'
        const nestedUl = document.createElement('ul');
        nestedUl.className = 'collection with-header';
        const global_idText= document.createTextNode("Global Id: " + item.global_id);
        idArray = item.stage_ids;

        li2 = document.createElement('li');
        li2.appendChild(global_idText);
        nestedUl.appendChild(li2);
        li2.className = 'collection-header cyan lighten-5';


        for (let i = 0; i<idArray.length;i++){


            const li = document.createElement('li');
            const q = document.createElement('i');

            li.className = 'collection-item cyan lighten-5';
            li.className += 'secondary-content';
            q.className += 'material-icons';

            idText = document.createTextNode("----> Stage Id: " + idArray[i]);

            if (i ===0){
                q.innerText = 'local_shipping';
            }
            else {
                q.innerText = 'directions_boat';
            }

            li.appendChild(q);
            li.appendChild(idText);
            nestedUl.appendChild(li);


        }

        ul.appendChild(nestedUl);

    });














</script>

</body>
</html>